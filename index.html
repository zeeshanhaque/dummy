<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Mail Form</title>
    <script src="script.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1 class="page-title">Service Management Form</h1>

    <button type="button" class="clear-storage" id="clearStorage"><img src="assets/bin.png" alt="clear" class="bin-icon"></button>


    <div class="container flex">
        <div class="form-container">

            <form id="dataform">
                <div class="flex input-group">
                    <div class="form-group">
                        <label>Service/Application(s) Impacted:</label>
                        <div id="impactedServiceDropdown" class="impacted-dropdown">
                            <div id="impactedServiceDropdownHeader" class="impacted-dropdown-header">
                                Select Service/Application(s):
                                <p class="down-arrow">&#11206;</p>
                            </div>
                            <div id="impactedServiceDropdownList" class="impacted-dropdown-list">
                                <label><input type="checkbox" name="impacted-service" value="Instagram"> Risk
                                    Navigator</label>
                                <label><input type="checkbox" name="impacted-service" value="Facebook"> Blue
                                    Dice</label>
                                <label><input type="checkbox" name="impacted-service" value="CRT"> CRT</label>
                                <label><input type="checkbox" name="impacted-service" value="Message"> Message</label>
                                <label><input type="checkbox" name="impacted-service" value="Whatsapp"> Whatsapp</label>
                            </div>
                        </div>
                        <div id="selectedImpacted" class="selected-impacted"></div>
                    </div>

                    <div class="form-group">
                        <label for="service-status">Service Status:</label>
                        <select id="service-status" class="service-status" name="service-status">
                            <option value="Available">Available</option>
                            <option value="Unavailable">Unavailable</option>
                            <option value="Degraded">Degraded</option>
                            <option value="Under Observation">Under Observation</option>
                        </select>
                    </div>
                </div>

                <div class="flex input-group">
                    <div class="form-group">
                        <label>User(s) Impacted:</label>
                        <div id="impactedUsersDropdown" class="impacted-dropdown">
                            <div id="impactedUsersDropdownHeader" class="impacted-dropdown-header">
                                Select User(s):
                                <p class="down-arrow-users">&#11206;</p>
                            </div>
                            <div id="impactedUsersDropdownlist" class="impacted-dropdown-list">
                                <label><input type="checkbox" name="impacted-users" value="GLOBAL"> GLOBAL</label>
                                <label><input type="checkbox" name="impacted-users" value="APAC"> APAC</label>
                                <label><input type="checkbox" name="impacted-users" value="EMEA"> EMEA</label>
                                <label><input type="checkbox" name="impacted-users" value="AMERICAS"> AMERICAS</label>
                            </div>
                        </div>
                        <div id="selectedImpactedUsers" class="selected-impacted-users"></div>
                    </div>

                    <div class="flex input-group">
                        <div class="form-group">
                            <label for="incident-num">Incident #:</label>
                            <input type="text" id="incident-num" class="incident-num" name="incident-num" pattern="INC[0-9]{8}" required>
                            <div id="incError" class="error" style="display: none;">Ensure INC is 11-Digit and Correct</div>
                        </div>

                        <div class="p1-check">
                            <label for="is-p1" class="p1-label">P1:</label>
                            <input type="checkbox" id="is-p1" class="is-p1" name="is-p1" value="">
                        </div>
                    </div>
                    
                </div>

                <div class="flex input-group time-group">
                    <div class="form-group">
                        <label for="start-time">Time Started [LT]:</label>
                        <input type="datetime-local" id="start-time" name="start-time">
                    </div>

                    <div class="form-group">
                        <label for="end-time">Time Ended [LT]:</label>
                        <input type="datetime-local" id="end-time" name="end-time">
                    </div>

                    <div class="form-group">
                        <label for="next-update">Next Update At [LT]:</label>
                        <input type="datetime-local" id="next-update" name="next-update">
                    </div>
                </div>

                <div class="form-group">
                    <label for="description">Description:</label>
                    <textarea id="description" name="description"></textarea>
                </div>

                <div class="form-group">
                    <label for="impact">Impact:</label>
                    <textarea id="impact" name="impact"></textarea>
                </div>

                <div class="form-group">
                    <label for="progress">Progress:</label>
                    <textarea id="progress" name="progress"></textarea>
                </div>

                <button type="button" id="generateButton" class="generate-btn">GENERATE</button>
                
            </form>
        </div>

        <div class="output-container">

            <div class="output-line-container flex">
                <div id="outputTorecipient" class="output-line"></div>
                <div class="copy-function">
                    <button id="copyToBtn" style="display: none;" class="copy-btn"><img src="assets/copy.png" alt="copy" class="copy-icon"></button>
                    <div id="copyToSuccess" class="success-message" style="display: none;">Copied!</div>
                </div>
            </div>

            <div class="output-line-container flex">
                <div id="outputBccrecipient" class="output-line"></div>
                <div class="copy-function">
                    <button id="copyBccBtn" style="display: none;" class="copy-btn"><img src="assets/copy.png" alt="copy" class="copy-icon"></button>
                    <div id="copyBccSuccess" class="success-message" style="display: none;">Copied!</div>
                </div>
            </div>

            <div class="output-line-container flex">
                <div id="outputSubject" class="output-line"></div>
                <div class="copy-function">
                    <button id="copySubBtn" style="display: none;" class="copy-btn"><img src="assets/copy.png" alt="copy" class="copy-icon"></button>
                    <div id="copySubSuccess" class="success-message" style="display: none;">Copied!</div>
                </div>
                
            </div>

            <div class="table-container">
                <div id="outputContent"></div>
                <div class="table-copy-div flex">
                    <button id="copyButton" class="copy-table-btn" style="display: none;">Copy Table</button>
                    <div id="copySuccess" class="table-success success-message" style="display: none;">Copied!</div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>